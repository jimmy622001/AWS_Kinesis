<mxfile host="app.diagrams.net" modified="2023-11-03T15:30:42.976Z" agent="Mozilla/5.0" etag="rPH82wtf_UeI2A4-jqEs" version="22.0.8">
  <diagram id="AWS_Kinesis_Layout_DR" name="AWS Kinesis with DR">
    <mxGraphModel dx="1422" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="850" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Region Headers -->
        <mxCell id="region_primary" value="PRIMARY REGION (US-EAST-1)" style="text;html=1;strokeColor=#0066CC;fillColor=#E6F0FA;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=16;fontStyle=1;fontColor=#0066CC;" vertex="1" parent="1">
          <mxGeometry x="120" y="40" width="300" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="region_dr" value="DR REGION (US-WEST-2) - PILOT LIGHT" style="text;html=1;strokeColor=#CC6600;fillColor=#FFF2E6;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=16;fontStyle=1;fontColor=#CC6600;" vertex="1" parent="1">
          <mxGeometry x="680" y="40" width="300" height="30" as="geometry" />
        </mxCell>
        
        <!-- Primary Region Background -->
        <mxCell id="primary_region_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E6F0FA;strokeColor=#0066CC;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="90" y="80" width="360" height="560" as="geometry" />
        </mxCell>
        
        <!-- DR Region Background -->
        <mxCell id="dr_region_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2E6;strokeColor=#CC6600;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="650" y="80" width="360" height="560" as="geometry" />
        </mxCell>
        
        <!-- PRIMARY REGION COMPONENTS -->
        <mxCell id="primary_data_sources" value="Trading Data Sources&#xa;(Market Data, Orders, Positions)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="120" y="100" width="200" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="primary_kinesis_streams" value="Kinesis Data Streams&#xa;(Primary)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="120" y="210" width="200" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="primary_kinesis_analytics" value="Kinesis Data Analytics&#xa;(Real-time Processing)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="120" y="320" width="200" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="primary_lambda" value="Lambda Functions&#xa;(Data Transformations)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="220" y="430" width="200" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="primary_s3" value="S3 Buckets&#xa;(Data Lake)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="170" y="530" width="120" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="primary_cloudwatch" value="CloudWatch&#xa;(Monitoring & Alerts)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="220" y="150" width="200" height="40" as="geometry" />
        </mxCell>
        
        <!-- DR REGION COMPONENTS - PILOT LIGHT -->
        <mxCell id="dr_kinesis_streams" value="Kinesis Data Streams&#xa;(DR - Standby)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="680" y="210" width="200" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="dr_kinesis_analytics" value="Kinesis Data Analytics&#xa;(DR - Scaled Down)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="680" y="320" width="200" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="dr_lambda" value="Lambda Functions&#xa;(DR - Minimal)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="780" y="430" width="200" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="dr_s3" value="S3 Buckets&#xa;(Replicated)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="820" y="530" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- FAILOVER COMPONENTS -->
        <mxCell id="route53" value="Route 53&#xa;(DNS Failover)" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="470" y="130" width="160" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="failover_lambda" value="DR Failover Lambda&#xa;(Automated Recovery)" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="455" y="240" width="190" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="health_checks" value="Health Checks" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="490" y="350" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- CONNECTIONS IN PRIMARY REGION -->
        <mxCell id="conn_sources_streams" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="primary_data_sources" target="primary_kinesis_streams">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="conn_streams_analytics" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="primary_kinesis_streams" target="primary_kinesis_analytics">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="conn_analytics_lambda" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="primary_kinesis_analytics" target="primary_lambda">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="220" y="400" />
              <mxPoint x="270" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="conn_lambda_s3" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.855;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="primary_lambda" target="primary_s3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="320" y="510" />
              <mxPoint x="273" y="510" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="conn_cloudwatch" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="primary_cloudwatch" target="primary_kinesis_streams">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="320" y="190" />
              <mxPoint x="270" y="190" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- CONNECTIONS IN DR REGION -->
        <mxCell id="dr_conn_streams_analytics" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="dr_kinesis_streams" target="dr_kinesis_analytics">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="dr_conn_analytics_lambda" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="dr_kinesis_analytics" target="dr_lambda">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="780" y="400" />
              <mxPoint x="830" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="dr_conn_lambda_s3" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="dr_lambda" target="dr_s3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- CROSS-REGION REPLICATION AND FAILOVER -->
        <mxCell id="conn_replication_streams" value="Data Replication" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="primary_kinesis_streams" target="dr_kinesis_streams">
          <mxGeometry x="-0.0074" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="conn_replication_s3" value="S3 Cross-Region Replication" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="primary_s3" target="dr_s3">
          <mxGeometry x="-0.0538" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="conn_healthcheck_failover" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;strokeWidth=1;" edge="1" parent="1" source="health_checks" target="failover_lambda">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="conn_failover_route53" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=1;" edge="1" parent="1" source="failover_lambda" target="route53">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="conn_failover_dr" value="Scale-up Trigger" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;dashed=1;" edge="1" parent="1" source="failover_lambda" target="dr_kinesis_analytics">
          <mxGeometry x="0.2428" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="680" y="280" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="conn_route53_dr" value="Traffic&#xa;Redirect" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;dashed=1;" edge="1" parent="1" source="route53" target="dr_kinesis_streams">
          <mxGeometry x="0.0208" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="350" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- LEGEND -->
        <mxCell id="legend_title" value="LEGEND" style="text;html=1;strokeColor=#000000;fillColor=#f5f5f5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="485" y="410" width="130" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_primary" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="460" y="440" width="30" height="15" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_primary_text" value="Primary Region Component" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="495" y="435" width="130" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_dr" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="460" y="465" width="30" height="15" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_dr_text" value="DR Pilot Light Component" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="495" y="460" width="130" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_failover_line" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="490" as="sourcePoint" />
            <mxPoint x="490" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="legend_failover_text" value="Failover/Replication Path" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="495" y="485" width="130" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="diagram_title" value="AWS Kinesis Architecture with Cross-Region DR" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="290" y="10" width="520" height="30" as="geometry" />
        </mxCell>
        
        <!-- Additional Label for Pilot Light -->
        <mxCell id="pilot_light_label" value="PILOT LIGHT MODE&#xa;(Minimal infrastructure that scales up during failover)" style="text;html=1;strokeColor=#CC6600;fillColor=#FFF2E6;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fontColor=#CC6600;" vertex="1" parent="1">
          <mxGeometry x="680" y="100" width="300" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>